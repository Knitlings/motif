<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline'; font-src 'self'; img-src 'self' data: blob:; connect-src 'self'; object-src 'none'; base-uri 'self'; form-action 'none'; frame-ancestors 'none';">
    <title>Help - Motif</title>
    <meta name="description" content="Learn how to use Motif pattern editor">
    <link rel="stylesheet" href="/src/assets/fonts/fonts.css">
    <link rel="stylesheet" href="/src/styles/main.css">
    <style>
        /* Table of contents styling */
        .toc {
            background: transparent !important;
            padding: 0 !important;
            margin: 2.5rem 0 !important;
            border-left: 3px solid var(--color-primary) !important;
            padding-left: 1.5rem !important;
        }

        .toc h2 {
            font-size: 1.5rem !important;
            font-weight: 700 !important;
            margin: 0 0 1rem 0 !important;
            color: var(--color-text-primary);
            border: none !important;
        }

        .toc ul {
            list-style: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }

        .toc li {
            margin: 0 0 0.6rem 0 !important;
        }

        .toc a {
            text-decoration: none;
            color: var(--color-text);
            font-size: 1rem;
            font-weight: 500;
            transition: color 0.2s ease;
            display: inline-block;
        }

        .toc a:hover {
            color: var(--color-primary);
        }

        /* Back to contents link */
        .back-to-contents {
            font-size: 0.875rem;
            color: var(--color-text-secondary);
            text-decoration: none;
            margin-left: 1rem;
            transition: color 0.2s ease;
        }

        .back-to-contents:hover {
            color: var(--color-primary);
        }

        /* Input mode toggle */
        .input-mode-toggle {
            display: flex;
            gap: 0;
            margin: 1.5rem 0;
            border: 1px solid var(--color-border);
            border-radius: 6px;
            overflow: hidden;
            width: fit-content;
        }

        .input-mode-btn {
            padding: 0.5rem 1.5rem;
            background: var(--color-bg);
            border: none;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 500;
            color: var(--color-text);
            transition: all 0.2s ease;
            border-right: 1px solid var(--color-border);
        }

        .input-mode-btn:last-child {
            border-right: none;
        }

        .input-mode-btn:hover {
            background: var(--color-bg-secondary, #f5f5f5);
        }

        .input-mode-btn.active {
            background: var(--color-primary);
            color: white;
        }

        .input-mode-btn:focus {
            outline: 2px solid var(--color-primary);
            outline-offset: -2px;
            z-index: 1;
        }

        /* Content visibility based on input mode */
        body[data-input-mode="desktop"] .touch-only {
            display: none;
        }

        body[data-input-mode="touch"] .desktop-only {
            display: none;
        }

        /* .both is always visible */

        /* UI element references */
        .ui-element {
            font-weight: 600;
            color: var(--color-primary);
            white-space: nowrap;
        }
    </style>
</head>
<body>
    <div class="content-page">
        <a href="/" class="back-link">← Back to Motif</a>

        <h1>Help</h1>

        <div class="toc">
            <h2>Contents</h2>
            <ul>
                <li><a href="#pattern">Pattern</a></li>
                <li><a href="#preview">Preview</a></li>
                <li><a href="#colours">Colours</a></li>
                <li><a href="#undo">Undo and Redo</a></li>
                <li><a href="#download">Download pattern</a></li>
                <li><a href="#settings">Settings</a></li>
                <li class="desktop-only"><a href="#shortcuts">Keyboard Shortcuts</a></li>
            </ul>
        </div>

        <div class="input-mode-toggle" role="tablist" aria-label="Input mode selection">
            <button class="input-mode-btn" data-mode="desktop" role="tab" aria-selected="false" aria-controls="help-content">Desktop</button>
            <button class="input-mode-btn" data-mode="touch" role="tab" aria-selected="false" aria-controls="help-content">Touch</button>
        </div>

        <h2 id="pattern">Pattern <a href="#" class="back-to-contents">↑</a></h2>
        <p class="both">Draw a single repeat of your pattern—the preview will show how it tiles.</p>

        <h3>Paint</h3>
        <p class="desktop-only">Click a cell to paint it with the active pattern colour. Click and drag to paint multiple cells at once.</p>
        <p class="touch-only">Tap a cell to paint it with the active colour.</p>

        <h3>Erase</h3>
        <p class="desktop-only">Click a painted cell to toggle between the background colour and the active pattern colour.</p>
        <p class="desktop-only">Hold <kbd>Shift</kbd> and click cells to paint with the background colour instead of the active colour.</p>
        <p class="desktop-only">Click the × below the pattern to clear the entire pattern to the background colour.</p>
        <p class="touch-only">Tap a painted cell to toggle between background colour and the active pattern colour.</p>
        <p class="touch-only">Tap the × below the pattern to clear the entire pattern to the background colour.</p>

        <h3>Resize</h3>
        <div class="desktop-only">
        <p>To resize the pattern grid, you can:</p>
        <ul>
        <li>Click the arrows above the pattern grid to add a row or column. Hold <kbd>Shift</kbd> and click to remove.</li>
        <li>Enter the number of rows and columns desired.</li>
        <li>Drag the edges of the pattern grid to shrink and enlarge it.</li>
        </ul>
        </div>
        <div class="touch-only">
        <p>To resize the pattern grid, you can:</p>
        <ul>
        <li>Tap the arrows above the pattern grid to add a row or column. Long-press and tap to remove.</li>
        <li>Enter the number of rows and columns desired.</li>
        <li>Drag the edges of the pattern grid to shrink and enlarge it.</li>
        </ul>
        </div>

        <h2 id="preview">Preview <a href="#" class="back-to-contents">↑</a></h2>

        <p class="both">The preview shows several repeats of your pattern, so you can see how your it connects when repeating and catch problems that only appear when the pattern is tiled.</p>

        <h2 id="colours">Colours <a href="#" class="back-to-contents">↑</a></h2>

        <p class="both">The pattern colours are displayed in circles at the top of the screen. The active pattern colour is indicated by a larger circle. Motif keeps track of what cells use what pattern colour, so you can easily change them all at once and try new combinations.</p>
        <p class="both">If there are more pattern colours than can be displayed next to each other, an overflow menu will show the remaining colours.</p>

        <h3>Changing and deleting pattern colours</h3>
        <p class="desktop-only">Click any pattern colour to select, edit or delete it.</p>
        <p class="desktop-only">You can also directly select a pattern colour using the keyboard: <kbd>1</kbd>-<kbd>9</kbd>, <kbd>0</kbd> for pattern colours 1-10, and the same with <kbd>Shift</kbd> for pattern colour 11-20.
        <p class="touch-only">Tap any pattern colour to select, edit or delete it.</p>

        <h3>Adding pattern colours</h3>
        <p class="desktop-only">Click the + button to add a new pattern colour. You can add up to 20 colours per pattern.</p>
        <p class="touch-only">Tap the + button to add a new pattern colour. You can add up to 20 colours per pattern.</p>

        <h3>Swapping colours</h3>
        <p class="both">Drag one pattern colour onto another to merge their positions and remove the target colour. You can also drag pattern colours to the background colour to merge them.</p>

        <h3>Background colour</h3>
        <p class="both">This is the default colour for empty cells. It is displayed in a square.</p>
        <p class="desktop-only">Hold <kbd>Shift</kbd> and click cells to turn them into background.</p>
        <p class="touch-only">Long-press the background colour and then tap cells to turn them into background.</p>

        <h3>Palette</h3>
        <p class="both">The palette button shows you a small preview of the selected palette. Palettes are curated selections of colours you can easily apply to your pattern colours.</p>
        <p class="desktop-only">Click the palette button to see the current palette or select another one.</p>
        <p class="touch-only">Tap the palette button to see the current palette or select another one.</p>
        <p class="desktop-only">Click a palette colour to set it as the active pattern colour.</p>
        <p class="desktop-only">Hold <kbd>Shift</kbd> and click a palette colour to set it as the background colour.</p>
        <p class="touch-only">Tap a palette colour to set it as the active pattern colour.</p>
        <p class="touch-only">Long-press a palette colour to set it as the background colour.</p>
        <p class="desktop-only">Click <span class="ui-element">Load palette</span> to apply the current palette to the pattern colours, replacing them.</p>
        <p class="touch-only">Tap <span class="ui-element">Load palette</span> to apply the current palette to the pattern colours, replacing them.</p>
        <p class="desktop-only">Click <span class="ui-element">Custom</span> to edit your own palette. Click a colour in the custom palette to select, edit or delete it. Click the plus button to add a new colour to the custom palette.</p>
        <p class="touch-only">Tap <span class="ui-element">Custom</span> to edit your own palette. Tap a colour in the custom palette to select, edit or delete it. Tap the plus button to add a new colour to the custom palette.</p>

        <h2 id="undo">Undo and Redo <a href="#" class="back-to-contents">↑</a></h2>

        <p class="desktop-only">Click the curved arrow buttons below the canvas to undo and redo your changes.</p>
        <p class="desktop-only">You can also use <kbd>Cmd/Ctrl</kbd> + <kbd>Z</kbd> to undo and <kbd>Cmd/Ctrl</kbd> + <kbd>Y</kbd> to redo.</p>
        <p class="touch-only">Tap the curved arrow buttons below the canvas to undo and redo your changes.</p>


        <h2 id="download">Download pattern <a href="#" class="back-to-contents">↑</a></h2>

        <p class="desktop-only">Click the <span class="ui-element">Download pattern</span> dropdown below the pattern to export your current pattern as an image file.</p>
        <p class="touch-only">Tap the <span class="ui-element">Download pattern</span> dropdown below the pattern to export your current pattern as an image file.</p>

        <h2 id="settings">Settings <a href="#" class="back-to-contents">↑</a></h2>
        <p class="both">Access these options in the settings menu (☰):</p>

        <h3>Import/Export</h3>

        <p class="desktop-only">Click <span class="ui-element">Import JSON</span> to load a previously saved JSON file. The JSON file contains your pattern dimensions, cell aspect ratio, colour palette, pattern data, and preview settings in a human-readable format that can be manipulated programmatically.</p>
        <p class="desktop-only">Click <span class="ui-element">Export JSON</span> to create a JSON file you can import later.</p>
        <p class="touch-only">Tap <span class="ui-element">Import JSON</span> to load a previously saved JSON file. The JSON file contains your pattern dimensions, cell aspect ratio, colour palette, pattern data, and preview settings in a human-readable format that can be manipulated programmatically.</p>
        <p class="touch-only">Tap <span class="ui-element">Export JSON</span> to create a JSON file you can import later.</p>

        <h3>Cell aspect ratio</h3>
        <p class="desktop-only">Click the drop down to choose from preset ratios like "Square 1:1" or "Knit stitch 4:3", or set a custom ratio.</p>
        <p class="touch-only">Tap the drop down to choose from preset ratios like "Square 1:1" or "Knit stitch 4:3", or set a custom ratio.</p>


        <div class="desktop-only">
        <h2 id="shortcuts">Keyboard Shortcuts <a href="#" class="back-to-contents">↑</a></h2>

        <table>
            <thead>
                <tr>
                    <th>Action</th>
                    <th>Shortcut</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Undo</td>
                    <td><kbd>Cmd/Ctrl</kbd> + <kbd>Z</kbd></td>
                </tr>
                <tr>
                    <td>Redo</td>
                    <td><kbd>Cmd/Ctrl</kbd> + <kbd>Y</kbd></td>
                </tr>
                <tr>
                    <td>Clear canvas</td>
                    <td><kbd>Delete</kbd> or <kbd>Backspace</kbd></td>
                </tr>
                <tr>
                    <td>Select pattern colours 1-10</td>
                    <td><kbd>1</kbd>-<kbd>9</kbd>, <kbd>0</kbd></td>
                </tr>
                <tr>
                    <td>Select pattern colours 11-20</td>
                    <td><kbd>Shift</kbd> + <kbd>1</kbd>-<kbd>9</kbd>, <kbd>0</kbd></td>
                </tr>
            </tbody>
        </table>
        </div>

        <p style="margin-top: 2rem;"><a href="/">← Back to Motif</a></p>
    </div>

    <script type="module" src="/help.js"></script>
</body>
</html>
